---
openapi: 3.0.3
info:
  title: Quality information for parts
  version: v2
  x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#ManufacturedPartsQualityInformation"
servers:
- url: catenax.io/api/v2
  variables:
    api-version:
      default: v2
paths:
  /{tenant-id}/manufactured-parts-quality-information:
    get:
      tags:
      - ManufacturedPartsQualityInformation
      operationId: getManufacturedPartsQualityInformation
      parameters:
      - name: tenant-id
        in: path
        description: The ID of the tenant owning the requested Twin.
        required: true
        schema:
          type: string
          format: uuid
      - name: start
        in: query
        description: Starting index which is starting by 0
        required: false
        schema:
          type: number
      - name: count
        in: query
        description: Number of items to return per call.
        required: false
        schema:
          type: number
      - name: totalItemCount
        in: query
        description: Flag that indicates that the total counts should be returned.
        required: false
        schema:
          type: boolean
      responses:
        "200":
          $ref: "#/components/responses/ManufacturedPartsQualityInformation"
        "400":
          $ref: "#/components/responses/ClientError"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFoundError"
components:
  schemas:
    ErrorResponse:
      type: object
      required:
      - error
      properties:
        error:
          $ref: "#/components/schemas/Error"
    Error:
      type: object
      required:
      - details
      properties:
        message:
          type: string
          minLength: 1
        path:
          type: string
          minLength: 1
        details:
          type: object
          minLength: 1
          additionalProperties:
            type: object
        code:
          type: string
          nullable: true
    PagingSchema:
      type: object
      properties:
        items:
          type: array
          $ref: "#/components/schemas/ManufacturedPartsQualityInformation"
        totalItems:
          type: number
        totalPages:
          type: number
        pageSize:
          type: number
        currentPage:
          type: number
    RecordStatusEnumeration:
      type: string
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#RecordStatusEnumeration"
      description: Defining the enumeration for the record status
      enum:
      - new
      - update
      - delete
      - same
    Text:
      type: string
      x-samm-aspect-model-urn: "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Text"
      description: "Describes a Property which contains plain text. This is intended\
        \ exclusively for human readable strings, not for identifiers, measurement\
        \ values, etc."
    UuidV4Trait:
      type: string
      x-samm-aspect-model-urn: "urn:samm:io.catenax.shared.uuid:1.0.0#UuidV4Trait"
      description: "The provided regular expression ensures that the UUID is composed\
        \ of five groups of characters separated by hyphens, in the form 8-4-4-4-12\
        \ for a total of 36 characters (32 hexadecimal characters and 4 hyphens),\
        \ optionally prefixed by \"urn:uuid:\" to make it an IRI."
      pattern: "(^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)|(^urn:uuid:[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)"
    Boolean:
      type: boolean
      x-samm-aspect-model-urn: "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Boolean"
      description: Represents a boolean value (i.e. a "flag").
    UniqueID:
      type: string
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#UniqueID"
      description: This Characteristic describes a property that is truly unique either
        inside the Company that is providing the data or even in Catena-X data space.
        Only one property in a semantic entity should be a uniqueID. Unique IDs can
        be used to link a data set with other semantic models.
    PositiveNumber:
      type: number
      minimum: 1
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#PositiveNumber"
      description: This Characteristic describes a positive number. 0 is not included.
    BpnsTrait:
      type: string
      x-samm-aspect-model-urn: "urn:samm:io.catenax.shared.business_partner_number:1.0.0#BpnsTrait"
      description: "The provided regular expression ensures that the BPNS is composed\
        \ of prefix 'BPNS', 10 digits and two uppercase letters."
      pattern: "^BPNS[0-9]{8}[a-zA-Z0-9]{4}$"
    CountryCodeTrait:
      type: string
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#CountryCodeTrait"
      description: 'Regular Expression that ensures a three-letter code '
      pattern: "^[A-Z][A-Z][A-Z]$"
    Timestamp:
      type: string
      pattern: "-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\\
        .[0-9]+)?|(24:00:00(\\.0+)?))(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?"
      x-samm-aspect-model-urn: "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Timestamp"
      description: Describes a Property which contains the date and time with an optional
        timezone.
    AdditionalInformation:
      description: One key:value information pair
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#AdditionalInformation"
      type: object
      properties:
        key:
          description: Key identifier for this additional information
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#key"
          $ref: "#/components/schemas/Text"
        value:
          description: Value for this additional information
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#value"
          $ref: "#/components/schemas/Text"
      required:
      - key
      - value
    ListOfAdditionalInformation:
      description: A list of additional information.
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#ListOfAdditionalInformation"
      type: array
      items:
        $ref: "#/components/schemas/AdditionalInformation"
    ManufacturedPart:
      description: Manufacturing information for one part. Important properties are
        standardized. Besides that there is a key:value list to exchange further non-standardized
        properties for this part
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#ManufacturedPart"
      type: object
      properties:
        recordStatus:
          description: "The record operation enumeration can be used to realize delta\
            \ update concept.\nDelta update concept means:\n- You transfer an initial\
            \ load of data\n- After the first week only the delta to the initial load\
            \ is transferred\n\n\nThe record status describes whether this record\
            \ is:\n- new=>This record is transferred the first time\n- update=> Some\
            \ properties of this record have changed compared to a previous transfer\n\
            - delete=> This record was transferred in the initial load or in a previous\
            \ delta update, but is not \n used any more and therefore it should be\
            \ deleted on data consumer side\n- same=> This record was transferred\
            \ in the initial load or in a previous delta update"
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#recordStatus"
          $ref: "#/components/schemas/RecordStatusEnumeration"
        batchId:
          description: "Manufacturer-specific batch identifier: In which batch was\
            \ this part manufactured"
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#batchId"
          $ref: "#/components/schemas/Text"
        catenaXPartId:
          description: The fully anonymous and unique Catena-X ID of this part. This
            id is unique inside Catena-X data space.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#catenaXPartId"
          $ref: "#/components/schemas/UuidV4Trait"
        catenaXQualityTaskId:
          description: The fully anonymous and unique Catena-X ID of this quality
            task. This id is unique inside Catena-X data space.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#catenaXQualityTaskId"
          $ref: "#/components/schemas/UuidV4Trait"
        hasBeenReworked:
          description: Indicator whether this part was reworked during manufacturing
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#hasBeenReworked"
          $ref: "#/components/schemas/Boolean"
        manufacturerPartName:
          description: "Part name given from  the manufacturer or supplier of this\
            \ part, component, sub component or raw material. A manufacturer part\
            \ name is NOT unique: All parts of the same kind share the same part name."
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#manufacturerPartName"
          $ref: "#/components/schemas/Text"
        manufacturerPartNumber:
          description: "Part number given from  the manufacturer or supplier of this\
            \ part, component, sub component or raw material. A manufacturer part\
            \ number is NOT unique: All parts of the same kind share the same part\
            \ number."
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#manufacturerPartNumber"
          $ref: "#/components/schemas/Text"
        manufacturerSerialNumber:
          description: "Serial number given from the manufacturer or supplier of this\
            \ part, component, sub component. A manufacturer serial number is unique:\
            \ With the serial number the produced part can be traced within the manufacturer."
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#manufacturerSerialNumber"
          $ref: "#/components/schemas/UniqueID"
        numberOfConductedEOLTests:
          description: Number how often this part went through the EOL test
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#numberOfConductedEOLTests"
          $ref: "#/components/schemas/PositiveNumber"
        plantCatenaXId:
          description: "Unique Catena-X plant identifier, also called BPNS."
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#plantCatenaXId"
          $ref: "#/components/schemas/BpnsTrait"
        plantCountryCode:
          description: "Country code of the plant, where the vehicle was produced."
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#plantCountryCode"
          $ref: "#/components/schemas/CountryCodeTrait"
        plantDescription:
          description: Long name of the production plant of the vehicle
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#plantDescription"
          $ref: "#/components/schemas/Text"
        plantIdentifier:
          description: Plant id of the final assembly of the vehicle
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#plantIdentifier"
          $ref: "#/components/schemas/UniqueID"
        productionDate:
          description: Date of production for this specific part.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#productionDate"
          $ref: "#/components/schemas/Timestamp"
        productionLine:
          description: On which production line was this part produced
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#productionLine"
          $ref: "#/components/schemas/Text"
        additionalInformation:
          description: You can use this key:value list for additional properties that
            were not defined in this aspect model.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#additionalInformation"
          $ref: "#/components/schemas/ListOfAdditionalInformation"
      required:
      - catenaXQualityTaskId
    ManufacturedPartsList:
      description: A list of manufactured parts
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#ManufacturedPartsList"
      type: array
      items:
        $ref: "#/components/schemas/ManufacturedPart"
    MetaCharacteristic:
      description: Characteristic for the meta information.
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#MetaCharacteristic"
      type: object
      properties:
        selectionCriteria:
          description: Describes the selection criteria a Catena-X data provider has
            applied to create this data set.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#selectionCriteria"
          $ref: "#/components/schemas/Text"
        selectionStart:
          description: Describes the starting point for providing records in this
            data set.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#selectionStart"
          $ref: "#/components/schemas/Text"
        selectionEnd:
          description: Describes the end point for providing records in this data
            set.
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#selectionEnd"
          $ref: "#/components/schemas/Text"
      required:
      - selectionCriteria
    ManufacturedPartsQualityInformation:
      description: "This aspect model is used to exchange manufacturing-oriented information\
        \ of several parts, e.g. for quality tasks"
      type: object
      x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#ManufacturedPartsQualityInformation"
      properties:
        listOfManufacturedParts:
          description: A list of manufactured parts and their properties
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#listOfManufacturedParts"
          $ref: "#/components/schemas/ManufacturedPartsList"
        metaInformation:
          description: 'This meta information is valid for all entries in this data
            set. The meta information is used to tell the data consumer which selection
            criteria were applied by the data provider. '
          x-samm-aspect-model-urn: "urn:samm:io.catenax.manufactured_parts_quality_information:2.0.0#metaInformation"
          $ref: "#/components/schemas/MetaCharacteristic"
      required:
      - listOfManufacturedParts
  responses:
    Unauthorized:
      description: The requesting user or client is not authenticated.
    Forbidden:
      description: The requesting user or client is not authorized to access resources.
    NotFoundError:
      description: The requested resource has not been found.
    ClientError:
      description: Payload or user input is invalid. See error details in the payload
        for more information.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    ManufacturedPartsQualityInformation:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/PagingSchema"
      description: The request was successful.
  requestBodies:
    ManufacturedPartsQualityInformation:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ManufacturedPartsQualityInformation"
      required: true
