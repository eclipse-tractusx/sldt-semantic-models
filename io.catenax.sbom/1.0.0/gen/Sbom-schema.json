{
  "$schema" : "http://json-schema.org/draft-04/schema",
  "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#Softwaremodule",
  "description" : "Softwaremodule and its version in context of SBOM description",
  "type" : "object",
  "components" : {
    "schemas" : {
      "StatusCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#StatusCharacteristic",
        "description" : "The value range for the status",
        "enum" : [ "active", "inactive" ]
      },
      "Text" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Text",
        "description" : "Describes a Property which contains plain text. This is intended exclusively for human readable strings, not for identifiers, measurement values, etc."
      },
      "FormatVersionTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#FormatVersionTrait",
        "description" : "The constraints to restrict format version strings",
        "pattern" : "^[3-9][\\.\\d*]*$|^\\d\\d+[\\.\\d*]*$"
      },
      "FormatTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#FormatTrait",
        "description" : "The constraints to restrict the mime type for the format",
        "pattern" : "^text\\/spdx$"
      },
      "DescriptionFileTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#DescriptionFileTrait",
        "description" : "The constraints to restrict the mime type of the description file",
        "pattern" : "^application\\/ld\\+json$"
      },
      "SpdxDataTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#SpdxDataTrait",
        "description" : "The data must be a valid SPDX JSON-LD string.",
        "pattern" : "^*$"
      },
      "SbomFile" : {
        "description" : "The file of the software bill of materials",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#SbomFile",
        "type" : "object",
        "properties" : {
          "formatVersion" : {
            "description" : "Version of the format with which a file or data structure was created or encoded",
            "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#formatVersion",
            "$ref" : "#/components/schemas/FormatVersionTrait"
          },
          "format" : {
            "description" : "The way data is organized, structured, or coded to make it readable or interpretable",
            "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#format",
            "$ref" : "#/components/schemas/FormatTrait"
          },
          "descriptionFile" : {
            "description" : "MIME-Type, file name and file contents given by the file SubmodelElement",
            "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#descriptionFile",
            "$ref" : "#/components/schemas/DescriptionFileTrait"
          },
          "spdxData" : {
            "description" : "The actual spdx data (as JSON-LD string)",
            "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#spdxData",
            "$ref" : "#/components/schemas/SpdxDataTrait"
          }
        },
        "required" : [ "formatVersion", "format", "descriptionFile", "spdxData" ]
      }
    }
  },
  "properties" : {
    "status" : {
      "description" : "Current state or situation of an object or a system",
      "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#status",
      "$ref" : "#/components/schemas/StatusCharacteristic"
    },
    "supplier" : {
      "description" : "Name of supplier which provides the customer with a product or a service",
      "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#supplier",
      "$ref" : "#/components/schemas/Text"
    },
    "sbom" : {
      "description" : "The software bill of materials for the software module in the specified form",
      "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf:1.0.0#sbom",
      "$ref" : "#/components/schemas/SbomFile"
    }
  },
  "required" : [ "status", "supplier", "sbom" ]
}

