{
  "$schema" : "http://json-schema.org/draft-04/schema",
  "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#ItemStock",
  "description" : "This aspect represents the latest quantities of a partner's items that are on stock. The stock represent the build-to-order (BTO) stocks already available.",
  "type" : "object",
  "components" : {
    "schemas" : {
      "OrderIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#OrderIdCharacteristic",
        "description" : "This is a proprietary order ID, generated by either the supplier side or customer side."
      },
      "OrderPositionIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#OrderPositionIdCharacteristic",
        "description" : "The position ID is unique for an order and used within business context to refer to a position."
      },
      "OrderPositionReferenceCharacteristic" : {
        "description" : "The order position reference includes reference numbers for the order and the ID. As these information are meant for the customer, the customer reference numbers are mandatory.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#OrderPositionReferenceCharacteristic",
        "type" : "object",
        "properties" : {
          "supplierOrderId" : {
            "description" : "This is the order number on the supplier side that is given by e.g., the supplier's enterprise resource planning system.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#supplierOrderId",
            "$ref" : "#/components/schemas/OrderIdCharacteristic"
          },
          "customerOrderId" : {
            "description" : "This is the order number on the customer side that can be given by e.g., the customer's enterprise resource planning system.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#customerOrderId",
            "$ref" : "#/components/schemas/OrderIdCharacteristic"
          },
          "customerOrderPositionId" : {
            "description" : "This is an identifier for the position of an order defined by the customer. It's not a technical identifier, such as an UUID. This identifier is used within the business context when talking about the position.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#customerOrderPositionId",
            "$ref" : "#/components/schemas/OrderPositionIdCharacteristic"
          }
        },
        "required" : [ "customerOrderId", "customerOrderPositionId" ]
      },
      "QuantityValueCharacteristic" : {
        "type" : "number",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.quantity:2.0.0#QuantityValueCharacteristic",
        "description" : "The quantity value associated with the unit expressed as float."
      },
      "ItemUnitEnumeration" : {
        "type" : "string",
        "pattern" : "[a-zA-Z]*:[a-zA-Z]+",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.quantity:2.0.0#ItemUnitEnumeration",
        "description" : "Enumeration for common item units.",
        "enum" : [ "unit:piece", "unit:set", "unit:pair", "unit:page", "unit:cycle", "unit:kilowattHour", "unit:gram", "unit:kilogram", "unit:tonneMetricTon", "unit:tonUsOrShortTonUkorus", "unit:ounceAvoirdupois", "unit:pound", "unit:metre", "unit:centimetre", "unit:kilometre", "unit:inch", "unit:foot", "unit:yard", "unit:squareCentimetre", "unit:squareMetre", "unit:squareInch", "unit:squareFoot", "unit:squareYard", "unit:cubicCentimetre", "unit:cubicMetre", "unit:cubicInch", "unit:cubicFoot", "unit:cubicYard", "unit:litre", "unit:millilitre", "unit:hectolitre", "unit:secondUnitOfTime", "unit:minuteUnitOfTime", "unit:hourUnitOfTime", "unit:day" ]
      },
      "QuantityCharacteristic" : {
        "description" : "Describes the quantity on stock of the item defined by a quantity value and the measurement unit in which the quantity is measured.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#QuantityCharacteristic",
        "type" : "object",
        "properties" : {
          "value" : {
            "description" : "The quantity value associated with the unit.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.quantity:2.0.0#quantityValue",
            "$ref" : "#/components/schemas/QuantityValueCharacteristic"
          },
          "unit" : {
            "description" : "The unit of an item. Common units may be related to mass, count, linear, area, volume or misc.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.quantity:2.0.0#itemUnit",
            "$ref" : "#/components/schemas/ItemUnitEnumeration"
          }
        },
        "required" : [ "value", "unit" ]
      },
      "BpnsTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.business_partner_number:2.0.0#BpnsTrait",
        "description" : "The provided regular expression ensures that the BPNS is composed of prefix 'BPNS', 10 digits and two alphanumeric letters.",
        "pattern" : "^BPNS[a-zA-Z0-9]{12}$"
      },
      "IsBlockedCharacteristic" : {
        "type" : "boolean",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#IsBlockedCharacteristic",
        "description" : "Boolean characteristic indicating whether a stock is blocked (true) or not (false)."
      },
      "BpnaTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.business_partner_number:2.0.0#BpnaTrait",
        "description" : "The provided regular expression ensures that the BPNA is composed of prefix 'BPNA', 10 digits and two alphanumeric letters.",
        "pattern" : "^BPNA[a-zA-Z0-9]{12}$"
      },
      "Timestamp" : {
        "type" : "string",
        "pattern" : "-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?|(24:00:00(\\.0+)?))(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Timestamp",
        "description" : "Describes a Property which contains the date and time with an optional timezone."
      },
      "AllocatedStock" : {
        "description" : "This is the quantity of items on stock at a location. A stock can either be\n- from a certain supplier and ready to be consumed by a customer or\n- from a supplier and ready to be shipped to a certain customer. \n\nIn case of stocks \"from a supplier ready to be shipped to a certain customer\", the stock may refer to an order position of a customer. This stock consists only of the good-finished items.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#AllocatedStock",
        "type" : "object",
        "properties" : {
          "quantityOnAllocatedStock" : {
            "description" : "This is the quantity of the material on stock. In case of stocks \"from a supplier ready to be shipped to a certain customer\", the stock may refer to an order position of a customer.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#quantityOnAllocatedStock",
            "$ref" : "#/components/schemas/QuantityCharacteristic"
          },
          "stockLocationBPNS" : {
            "description" : "BPNS identifying the site the stock is located at. One stock has always one location.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#stockLocationBPNS",
            "$ref" : "#/components/schemas/BpnsTrait"
          },
          "isBlocked" : {
            "description" : "A set of finished items that are located on the blocked stock area, quarantine area, etc. waiting to be released.\n\nExample: Stock is in review and not released due to customer complaint regarding a recent batch.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#isBlocked",
            "$ref" : "#/components/schemas/IsBlockedCharacteristic"
          },
          "stockLocationBPNA" : {
            "description" : "BPNA identifying the address the stock is located at. One stock has always one location.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#stockLocationBPNA",
            "$ref" : "#/components/schemas/BpnaTrait"
          },
          "lastUpdatedOnDateTime" : {
            "description" : "Date and time at which the position has been updated by the reporting partner's system. Date and time are set according to a timezone.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#lastUpdatedOnDateTime",
            "$ref" : "#/components/schemas/Timestamp"
          }
        },
        "required" : [ "quantityOnAllocatedStock", "stockLocationBPNS", "isBlocked", "stockLocationBPNA", "lastUpdatedOnDateTime" ]
      },
      "AllocatedStockSet" : {
        "description" : "Set of allocated stocks that may relate to different stock locations. Per location there could be at maximum one blocked and one non blocked stock at the same time.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#AllocatedStockSet",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/AllocatedStock"
        },
        "uniqueItems" : true
      },
      "Position" : {
        "description" : "The Position can be located at several stocks. \nIn case of a supplier's stock for a customer, a position may be either anonymous or reference a position within a customer order. \nIn case of a customer's stock for a supplier, the order position reference MUST NOT be set.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#Position",
        "type" : "object",
        "properties" : {
          "orderPositionReference" : {
            "description" : "The order position reference contains information to identify a position within an order.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#orderPositionReference",
            "$ref" : "#/components/schemas/OrderPositionReferenceCharacteristic"
          },
          "allocatedStocks" : {
            "description" : "Stocks that have been already allocated to the customer or delivered by a specific supplier. An allocated stock always refers to a stock location.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#allocatedStocks",
            "$ref" : "#/components/schemas/AllocatedStockSet"
          }
        },
        "required" : [ "allocatedStocks" ]
      },
      "PositionsSet" : {
        "description" : "If any stock is available, then there is at least one position. \n\nIn case of a supplier's stock for a customer, the supplier can  differentiate the stock according to the order positions of his customer. In this case multiple positions can be given. There could also be only one position without an OrderPositionReference indicating an anonymous stock which is allocated to the customer.\n\nIn case of a customer's stock delivered by a supplier, there is exactly one position without order position references.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#PositionsSet",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/Position"
        },
        "uniqueItems" : true
      },
      "UuidV4Trait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.uuid:2.0.0#UuidV4Trait",
        "description" : "The provided regular expression ensures that the UUID is composed of five groups of characters separated by hyphens, in the form 8-4-4-4-12 for a total of 36 characters (32 hexadecimal characters and 4 hyphens), optionally prefixed by \"urn:uuid:\" to make it an IRI.",
        "pattern" : "(^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)|(^urn:uuid:[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)"
      },
      "DirectionCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#DirectionCharacteristic",
        "description" : "If a supplier provides stock information to a customer, use \"OUTBOUND\".\nIf a customer provides stock information to a supplier, use \"INBOUND\".",
        "enum" : [ "INBOUND", "OUTBOUND" ]
      }
    }
  },
  "properties" : {
    "positions" : {
      "description" : "In case of a supplier's stocks for a customer, these stocks may reference the order position for that they have been produced. \nIn case of a customer's stock delivered by a supplier, there is exactly one position.\n\nIn case there is no item on stock, positions MUST be empty.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#positions",
      "$ref" : "#/components/schemas/PositionsSet"
    },
    "materialGlobalAssetId" : {
      "description" : "Identifier used uniquely to identify part type twin.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#materialGlobalAssetId",
      "$ref" : "#/components/schemas/UuidV4Trait"
    },
    "direction" : {
      "description" : "Direction of the stock from data provider perspective.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.item_stock:2.0.0#direction",
      "$ref" : "#/components/schemas/DirectionCharacteristic"
    }
  },
  "required" : [ "positions", "materialGlobalAssetId", "direction" ]
}