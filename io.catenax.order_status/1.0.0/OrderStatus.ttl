#######################################################################
# Copyright (c) 2023 ISTOS GmbH (a member of the DMG Mori Group)
# Copyright (c) 2023 Fraunhofer-Gesellschaft zur Foerderung der angewandten Forschung e.V. (represented by Fraunhofer ISST)
# Copyright (c) 2023 TRUMPF Werkzeugmaschinen SE + Co. KG 
# Copyright (c) 2023 Volkswagen AG
# Copyright (c) 2023 Contributors to the Eclipse Foundation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This work is made available under the terms of the
# Creative Commons Attribution 4.0 International (CC-BY-4.0) license,
# which is available at
# https://creativecommons.org/licenses/by/4.0/legalcode.
#
# SPDX-License-Identifier: CC-BY-4.0
#######################################################################

@prefix bamm: <urn:bamm:io.openmanufacturing:meta-model:2.0.0#>.
@prefix bamm-c: <urn:bamm:io.openmanufacturing:characteristic:2.0.0#>.
@prefix bamm-e: <urn:bamm:io.openmanufacturing:entity:2.0.0#>.
@prefix unit: <urn:bamm:io.openmanufacturing:unit:2.0.0#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix : <urn:bamm:io.catenax.order_status:1.0.0#>.
@prefix ext-planned: <urn:bamm:io.catenax.part_as_planned:1.0.0#>.
@prefix ext-relationship: <urn:bamm:io.catenax.assembly_part_relationship:1.1.1#>.
@prefix ext-certificate: <urn:bamm:io.catenax.esr_certificates.esr_certificate:1.0.1#>.

:OrderStatus a bamm:Aspect;
  bamm:properties (:manufacturerOrderId [
  bamm:property :customerOrderId;
  bamm:optional "true"^^xsd:boolean
] :orderPositionStatus);
    bamm:operations ();
    bamm:events ();
    bamm:preferredName "Status of Order"@en;
    bamm:description "This aspect represents the latest status of an order, that describes the business relationship between a customer and a manufacturer along the value chain."@en.
:manufacturerOrderId a bamm:Property;
    bamm:preferredName "Manufacturer Order ID"@en;
    bamm:description "This is the order number on the manufacturer side that is given by e.g., the manufacturer's enterprise resource planning system."@en;
    bamm:characteristic :OrderIdCharacteristic;
    bamm:exampleValue "M-Nbr-4711".
:customerOrderId a bamm:Property;
    bamm:preferredName "Customer Order ID"@en;
    bamm:description "This is the order number on the customer side that can be given by e.g., the customer's enterprise resource planning system."@en;
    bamm:characteristic :OrderIdCharacteristic;
    bamm:exampleValue "C-Nbr-4711".
:orderPositionStatus a bamm:Property;
    bamm:preferredName "Order Position Status"@en;
    bamm:description "One order consists of one or more order positions. Therefore the OrderStatus consists of one OrderPositionStatus per OrderPosition (one to one matching).\n"@en;
    bamm:characteristic :OrderPositionStatusSortedSet.
:OrderIdCharacteristic a bamm:Characteristic;
    bamm:description "This is a proprietary order id, generated by either the manufacturer side or customer side."@en;
    bamm:dataType xsd:string.
:OrderPositionStatusSortedSet a bamm-c:SortedSet;
    bamm:description "Each OrderPositionStatus must be unique. The OrderPositionStatus within the Set are sorted by the position id."@en;
    bamm:dataType :OrderPositionStatus.
:OrderPositionStatus a bamm:Entity;
    bamm:properties (:positionId :totalAllocatedQuantityOnStock :quantityOrdered :customerSiteBpns [
  bamm:property :allocatedStocks;
  bamm:optional "true"^^xsd:boolean
] :requiredDateOfCompletion ext-planned:manufacturerPartId);
    bamm:preferredName "Status of Order Position"@en;
    bamm:description "An order position is described by a quantity of one material (PartAsPlanned), which is requested by a customer to be manufactured until a given time.\nThe order position status includes the production status of the order position including already manufactured material for the order position."@en.
:positionId a bamm:Property;
    bamm:preferredName "Position ID"@en;
    bamm:description "This is the business identifier for an order position."@en;
    bamm:characteristic :OrderPositionIdCharacteristic;
    bamm:exampleValue "PositionId-01".
:totalAllocatedQuantityOnStock a bamm:Property;
    bamm:preferredName "Total Allocated Quantity on Stock"@en;
    bamm:description "The total stock is the sum of all material quanities in AllocatedStocks related to this position (OrderPositionStatus.allocatedStocks)."@en;
    bamm:characteristic ext-relationship:QuantityCharacteristic.
:quantityOrdered a bamm:Property;
    bamm:preferredName "Total Quantity Ordered"@en;
    bamm:description "This is the quantity ordered by the customer for this position."@en;
    bamm:characteristic ext-relationship:QuantityCharacteristic.
:customerSiteBpns a bamm:Property;
    bamm:preferredName "Bussiness Partner Number Site of Customer Site"@en;
    bamm:description "Site of the customer business partner, that will receive the materials."@en;
    bamm:characteristic :BusinessPartnerNumberSiteCharacteristic;
    bamm:exampleValue "BPNS1234567890YY".
:allocatedStocks a bamm:Property;
    bamm:preferredName "Allocated Stocks"@en;
    bamm:description "Quantities of materials put on stock after they have been produced before they have been shipped."@en;
    bamm:characteristic :AllocatedStocksCollection.
:requiredDateOfCompletion a bamm:Property;
    bamm:preferredName "Estimated Time of Completion"@en;
    bamm:description "Required time of completion at which the required quantity of the material for the position is ready to be shipped."@en;
    bamm:characteristic :Date;
    bamm:exampleValue "2023-03-01"^^xsd:date.
:OrderPositionIdCharacteristic a bamm:Characteristic;
    bamm:description "The position Id is unique for an Order Status."@en;
    bamm:dataType xsd:string.
:BusinessPartnerNumberSiteCharacteristic a bamm:Characteristic;
    bamm:description "This is the Business Partner Number Site (BPNS) that is used to identify a site within Catena-X."@en;
    bamm:dataType xsd:string;
    bamm:see <urn:cx:0010>.
:AllocatedStocksCollection a bamm-c:Collection;
    bamm:description "The Collection of AllocatedStocks."@en;
    bamm:dataType :AllocatedStock.
:AllocatedStock a bamm:Entity;
    bamm:properties (:quantityOnAllocatedStock :manufacturerStockSiteBpns);
    bamm:preferredName "Stock allocated to Order Position"@en;
    bamm:description "This is the quantity of already produced goods at a given site that have not yet been shipped. The allocated stock is the stock available for the given position. Quantities of Materials belonging to this stock are not available for other positions or customers. This stock consists only of the good parts."@en.
:quantityOnAllocatedStock a bamm:Property;
    bamm:preferredName "Quantity on Allocated Stock"@en;
    bamm:description "This is the quantity of the material within the Order Position that is already ready to be delivered."@en;
    bamm:characteristic ext-relationship:QuantityCharacteristic.
:manufacturerStockSiteBpns a bamm:Property;
    bamm:preferredName "Business Partner Number Site of Manufacturer's Stock Site"@en;
    bamm:characteristic :BusinessPartnerNumberSiteCharacteristic;
    bamm:exampleValue "BPNS1234567890YY".
:Date a bamm:Characteristic;
    bamm:description "The Date in the the timezone of the involved site."@en;
    bamm:dataType xsd:date.
