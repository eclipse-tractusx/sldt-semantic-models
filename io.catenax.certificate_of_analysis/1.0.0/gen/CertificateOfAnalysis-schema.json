{
  "$schema" : "http://json-schema.org/draft-04/schema",
  "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#CertificateOfAnalysis",
  "description" : "The Certificate of Analysis documents the material (e.g. chemical compound) properties describing a material's quality or performance factors specific to manufacturing batch.\nThe exact material properties depend on the material type and the following manufacturing processes. They are defined bilaterally between a supplier (manufacturer) and customer.",
  "type" : "object",
  "components" : {
    "schemas" : {
      "BpnlTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.business_partner_number:2.0.0#BpnlTrait",
        "description" : "The provided regular expression ensures that the BPNL is composed of prefix 'BPNL', 10 digits and two alphanumeric letters.",
        "pattern" : "^BPNL[a-zA-Z0-9]{12}$"
      },
      "Timestamp" : {
        "type" : "string",
        "pattern" : "-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?|(24:00:00(\\.0+)?))(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Timestamp",
        "description" : "Describes a Property which contains the date and time with an optional timezone."
      },
      "Boolean" : {
        "type" : "boolean",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Boolean",
        "description" : "Represents a boolean value (i.e. a \"flag\")."
      },
      "OrderIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.delivery_information:2.0.0#OrderIdCharacteristic",
        "description" : "This is a proprietary order ID, generated by either the supplier side or customer side."
      },
      "CertificateMetaDataCharacteristic" : {
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#CertificateMetaDataCharacteristic",
        "type" : "object",
        "properties" : {
          "issueDate" : {
            "description" : "the date and timestamp of issuing this certificate",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#issueDate",
            "$ref" : "#/components/schemas/Timestamp"
          },
          "isConformWithSpecification" : {
            "description" : "In the case that any of the properties that are part of the Certificate of Analysis violates the defined upper or lower limit this property should be set to false.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#isConformWithSpecification",
            "$ref" : "#/components/schemas/Boolean"
          },
          "supplierOrderId" : {
            "description" : "This is the order number on the supplier side that is given by e.g., the supplier's enterprise resource planning system.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.delivery_information:2.0.0#supplierOrderId",
            "$ref" : "#/components/schemas/OrderIdCharacteristic"
          },
          "customerOrderId" : {
            "description" : "This is the order number on the customer side that can be given by e.g., the customer's enterprise resource planning system.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.delivery_information:2.0.0#customerOrderId",
            "$ref" : "#/components/schemas/OrderIdCharacteristic"
          }
        },
        "required" : [ "issueDate" ],
        "description" : "Characteristic for describing meta or header data of a Certificate of Analysis."
      },
      "Text" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#Text",
        "description" : "Describes a Property which contains plain text. This is intended exclusively for human readable strings, not for identifiers, measurement values, etc."
      },
      "ValueCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#ValueCharacteristic",
        "description" : "The string should be formatted in a way sp that it is easily interpretable or convertible to the xsd datatype given in the field \"data type\"."
      },
      "UnitReference" : {
        "type" : "string",
        "pattern" : "[a-zA-Z]*:[a-zA-Z]+",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#UnitReference",
        "description" : "Describes a Property containing a reference to one of the units in the Unit Catalog."
      },
      "DataTypeEnumerationCharacteristic" : {
        "type" : "string",
        "pattern" : "[a-zA-Z]*:[a-zA-Z]+",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#DataTypeEnumerationCharacteristic",
        "description" : "Allows specification of any xsd data type allowed in SAMM 2.1.0 without the subtypes of xsd:integer.",
        "enum" : [ "xsd:string", "xsd:boolean", "xsd:decimal", "xsd:integer", "xsd:double", "xsd:date", "xsd:time", "xsd:dateTime", "xsd:dateTimeStamp", "xsd:gYear", "xsd:gMonth", "xsd:gDay", "xsd:gYearMonth", "xsd:gMonthDay", "xsd:duration", "xsd:yearMonthDuration", "xsd:dayTimeDuration", "xsd:hexBinary", "xsd:base64Binary", "xsd:anyURI", "samm:curie", "rdf:langString", "xsd:float" ]
      },
      "MethodSet" : {
        "description" : "Characteristic for a set of methods on how the material property was tested.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#MethodSet",
        "type" : "object",
        "properties" : {
          "methodStandard" : {
            "description" : "Reference to the standard that described the method.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#methodStandard",
            "$ref" : "#/components/schemas/Text"
          },
          "methodDescription" : {
            "description" : "This field should be used to describe the method or provide additional information to the referenced norm.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#methodDescription",
            "$ref" : "#/components/schemas/Text"
          }
        },
        "required" : [ "methodDescription" ]
      },
      "MaterialProperty" : {
        "description" : "A material property with its name, definition measured value and specification (limits).\nIf available, lower limit and upper limit must be given, they are only optional in the case that the limits don't exist or don't apply.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#MaterialProperty",
        "type" : "object",
        "properties" : {
          "name" : {
            "description" : "The name of the property",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#name",
            "$ref" : "#/components/schemas/Text"
          },
          "description" : {
            "description" : "This field should be used to describe the property.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#description",
            "$ref" : "#/components/schemas/Text"
          },
          "value" : {
            "description" : "The result of the analysis for this specific property.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#value",
            "$ref" : "#/components/schemas/ValueCharacteristic"
          },
          "unit" : {
            "description" : "The unit of measure used for the property value and specification limits. This can be omitted for non-numerical properties, e.g. Boolean.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#unit",
            "$ref" : "#/components/schemas/UnitReference"
          },
          "lowerLimit" : {
            "description" : "The lower limit of the specification with a boundary condition of \"At least\".\nValues below that limit are considered out of specification. Values exactly at the limit are considered in specification.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#lowerLimit",
            "$ref" : "#/components/schemas/ValueCharacteristic"
          },
          "upperLimit" : {
            "description" : "The upper limit of the specification with a boundary condition of \"At most\".\nValues above that limit are considered out of specification. Values exactly at the limit are considered in specification.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#upperLimit",
            "$ref" : "#/components/schemas/ValueCharacteristic"
          },
          "dataType" : {
            "description" : "The data type of the properties value and limits. The data type should specify how the string value should be type casted or interpreted.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#dataType",
            "$ref" : "#/components/schemas/DataTypeEnumerationCharacteristic"
          },
          "method" : {
            "description" : "A set of methods that describe how the part was tested",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#method",
            "$ref" : "#/components/schemas/MethodSet"
          }
        },
        "required" : [ "name", "description", "value", "dataType" ]
      },
      "MaterialPropertiesSet" : {
        "description" : "Set of measured material properties.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#MaterialPropertiesSet",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/MaterialProperty"
        },
        "uniqueItems" : true
      },
      "PartNameCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.part_as_planned:2.0.0#PartNameCharacteristic",
        "description" : "Part Name in string format from the respective system in the value chain"
      },
      "PartIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.part_as_planned:2.0.0#PartIdCharacteristic",
        "description" : "The part ID is a multi-character string, usually assigned by an ERP system"
      },
      "ProductTypeInformationCharacteristic" : {
        "description" : "Characteristic for some product type related information.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#ProductTypeInformationCharacteristic",
        "type" : "object",
        "properties" : {
          "nameAtManufacturer" : {
            "description" : "Name of the part as assigned by the manufacturer",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.part_as_planned:2.0.0#nameAtManufacturer",
            "$ref" : "#/components/schemas/PartNameCharacteristic"
          },
          "manufacturerPartId" : {
            "description" : "Part ID as assigned by the manufacturer of the part. The Part ID identifies the part in the manufacturer`s dataspace. The Part ID references a specific version of a part. The version number must be included in the Part ID if it is available.\n\nThe Part ID does not reference a specific instance of a part and must not be confused with the serial number.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.part_as_planned:2.0.0#manufacturerPartId",
            "$ref" : "#/components/schemas/PartIdCharacteristic"
          },
          "customerPartId" : {
            "description" : "Part ID as assigned by the customer.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#customerPartId",
            "$ref" : "#/components/schemas/PartIdCharacteristic"
          }
        },
        "required" : [ "nameAtManufacturer", "manufacturerPartId" ]
      },
      "KeyTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#KeyTrait",
        "description" : "Constraint that ensures that the predefined keys are used.",
        "pattern" : "^(manufacturerId|batchId|customKey:\\w+)$"
      },
      "ValueCharacteristic0" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#ValueCharacteristic",
        "description" : "The value of an identifier."
      },
      "KeyValueList" : {
        "description" : "A list of key value pairs for local identifiers, which are composed of a key and a corresponding value.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#KeyValueList",
        "type" : "object",
        "properties" : {
          "key" : {
            "description" : "The key of a local identifier.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#key",
            "$ref" : "#/components/schemas/KeyTrait"
          },
          "value" : {
            "description" : "The value of an identifier.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#value",
            "$ref" : "#/components/schemas/ValueCharacteristic0"
          }
        },
        "required" : [ "key", "value" ]
      },
      "LocalIdentifierCharacteristic" : {
        "description" : "A batch may have multiple attributes, which uniquely identify that batch in a specific dataspace(e.g. the manufacturer`s dataspace)",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#LocalIdentifierCharacteristic",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/KeyValueList"
        },
        "uniqueItems" : true
      },
      "UuidV4Trait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.uuid:2.0.0#UuidV4Trait",
        "description" : "The provided regular expression ensures that the UUID is composed of five groups of characters separated by hyphens, in the form 8-4-4-4-12 for a total of 36 characters (32 hexadecimal characters and 4 hyphens), optionally prefixed by \"urn:uuid:\" to make it an IRI.",
        "pattern" : "(^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)|(^urn:uuid:[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)"
      },
      "DateTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#DateTrait",
        "description" : "Regular Expression to enable UTC and Timezone formats and the possibility to exclude time information.",
        "pattern" : "^(?:[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(?:[.][0-9]+)?Z|[0-9]{4}-[0-9]{2}-[0-9]{2}(?:T[0-9]{2}:[0-9]{2}:[0-9]{2}(?:[.][0-9]+)?(?:Z|[+-][0-9]{2}:[0-9]{2}))?)$"
      },
      "ProductionCountryCodeTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#ProductionCountryCodeTrait",
        "description" : "Regular Expression that ensures a three-letter code",
        "pattern" : "^[A-Z]{3}$"
      },
      "BpnsTrait" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.business_partner_number:2.0.0#BpnsTrait",
        "description" : "The provided regular expression ensures that the BPNS is composed of prefix 'BPNS', 10 digits and two alphanumeric letters.",
        "pattern" : "^BPNS[a-zA-Z0-9]{12}$"
      },
      "FunctionCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#FunctionCharacteristic",
        "description" : "Describes the characteristics of the function for a site related to the respective part.",
        "enum" : [ "production", "warehouse", "spare part warehouse" ]
      },
      "SitesEntity" : {
        "description" : "Describes the ID and function of a site for the associated part in the AsBuilt context(e.g. SerialPart, Batch, jIS).",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#SitesEntity",
        "type" : "object",
        "properties" : {
          "catenaXsiteId" : {
            "description" : "The identifier of the site according to Catena-X BPDM. The catenaXsiteId must be a valid Catena-X BPN. The BPN is a unique, unchangeable identifier for Business Partners / company locations from foundation to closure, regardless of the different business relationships / structures between or within the Business Partners or company locations.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#catenaXsiteId",
            "$ref" : "#/components/schemas/BpnsTrait"
          },
          "function" : {
            "description" : "The function of the site in relation to the part(i.e. the activity within the value chain of the part that is performed at the site)",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#function",
            "$ref" : "#/components/schemas/FunctionCharacteristic"
          }
        },
        "required" : [ "catenaXsiteId", "function" ]
      },
      "SitesCharacteristic" : {
        "description" : "Sites Characteristic",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#SitesCharacteristic",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/SitesEntity"
        },
        "uniqueItems" : true
      },
      "ManufacturingCharacteristic" : {
        "description" : "Characteristic to describe manufacturing related data",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#ManufacturingCharacteristic",
        "type" : "object",
        "properties" : {
          "date" : {
            "description" : "Timestamp of the manufacturing date as the final step in production process(e.g. final quality check, ready-for-shipment event)",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#date",
            "$ref" : "#/components/schemas/DateTrait"
          },
          "country" : {
            "description" : "Country code where the part was manufactured",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#country",
            "$ref" : "#/components/schemas/ProductionCountryCodeTrait"
          },
          "sites" : {
            "description" : "A site is a delimited geographical area where a legal entity does business(geographical address with geo coordinates).A site always has a primary physical address. It is possible that further physical addresses are specified for the site. P.O. box details are only possible in addition to the physical address. A site has a 1:n relation to addresses, means at least 1 address is necessary and multiple addresses are possible.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#sites",
            "$ref" : "#/components/schemas/SitesCharacteristic"
          }
        },
        "required" : [ "date" ]
      },
      "DateCharacteristic" : {
        "type" : "string",
        "format" : "date",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#DateCharacteristic",
        "description" : "A calendar date"
      },
      "ProductInstanceInformationCharacteristic" : {
        "description" : "Characteristic for product instance related information.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#ProductInstanceInformationCharacteristic",
        "type" : "object",
        "properties" : {
          "localIdentifiers" : {
            "description" : "A local identifier enables identification of a part in a specific dataspace, but is not unique in Catena-X dataspace. Multiple local identifiers may exist.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#localIdentifiers",
            "$ref" : "#/components/schemas/LocalIdentifierCharacteristic"
          },
          "catenaXId" : {
            "description" : "The fully anonymous Catena-X ID of the batch, valid for the Catena-X dataspace.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#catenaXId",
            "$ref" : "#/components/schemas/UuidV4Trait"
          },
          "manufacturingInformation" : {
            "description" : "Information from manufacturing process, such as manufacturing date and manufacturing country",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.batch:3.0.1#manufacturingInformation",
            "$ref" : "#/components/schemas/ManufacturingCharacteristic"
          },
          "expiryDate" : {
            "description" : "The expiry date of the material.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#expiryDate",
            "$ref" : "#/components/schemas/DateCharacteristic"
          }
        },
        "required" : [ "localIdentifiers", "catenaXId", "manufacturingInformation" ]
      }
    }
  },
  "properties" : {
    "customer" : {
      "description" : "The customer as a BPNL reference.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#customer",
      "$ref" : "#/components/schemas/BpnlTrait"
    },
    "supplier" : {
      "description" : "The supplier (manufacturer) as a BPNL reference.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#supplier",
      "$ref" : "#/components/schemas/BpnlTrait"
    },
    "certificateMetaData" : {
      "description" : "Meta data about this certificate",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#certificateMetaData",
      "$ref" : "#/components/schemas/CertificateMetaDataCharacteristic"
    },
    "materialProperties" : {
      "description" : "A set of material properties containing the specification and the actual material analysis measurement results.\n\nThe properties may vary based on the material type as well as the agreed specification of the material and the analysis between the customer and manufacturer (supplier).",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#materialProperties",
      "$ref" : "#/components/schemas/MaterialPropertiesSet"
    },
    "productTypeInformation" : {
      "description" : "Product type related information",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#productTypeInformation",
      "$ref" : "#/components/schemas/ProductTypeInformationCharacteristic"
    },
    "productInstanceInformation" : {
      "description" : "Product instance related information, in the case of Certificate of Analysis a product instance refers to a batch.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.certificate_of_analysis:1.0.0#productInstanceInformation",
      "$ref" : "#/components/schemas/ProductInstanceInformationCharacteristic"
    }
  },
  "required" : [ "customer", "supplier", "certificateMetaData", "materialProperties", "productTypeInformation", "productInstanceInformation" ]
}