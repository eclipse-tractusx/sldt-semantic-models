#######################################################################
# Copyright (c) 2025 Catena-X Automotive Network e.V.
# Copyright (c) 2022 Contributors to the Eclipse Foundation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This work is made available under the terms of the
# Creative Commons Attribution 4.0 International (CC-BY-4.0) license,
# which is available at
# https://creativecommons.org/licenses/by/4.0/legalcode.
#
# SPDX-License-Identifier: CC-BY-4.0
#######################################################################

@prefix samm: <urn:samm:org.eclipse.esmf.samm:meta-model:2.1.0#> .
@prefix samm-c: <urn:samm:org.eclipse.esmf.samm:characteristic:2.1.0#> .
@prefix samm-e: <urn:samm:org.eclipse.esmf.samm:entity:2.1.0#> .
@prefix unit: <urn:samm:org.eclipse.esmf.samm:unit:2.1.0#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <urn:samm:io.catenax.shared.industry_core:1.0.0#> .
@prefix ext-built: <urn:samm:io.catenax.shared.part_site_information_as_built:2.0.0#> .
@prefix ext-number: <urn:samm:io.catenax.shared.business_partner_number:2.0.0#> .

:manufacturingInformation a samm:Property ;
   samm:preferredName "manufacturing information"@en ;
   samm:description "Information from manufacturing process, such as manufacturing date and manufacturing country"@en ;
   samm:characteristic :ManufacturingCharacteristic .

:ManufacturingCharacteristic a samm:Characteristic ;
   samm:preferredName "manufacturing characteristic"@en ;
   samm:description "Characteristic to describe manufacturing related data"@en ;
   samm:dataType :ManufacturingEntity .

:ManufacturingEntity a samm:Entity ;
   samm:preferredName "manufacturing entity"@en ;
   samm:description "Encapsulates the manufacturing relevant attributes"@en ;
   samm:properties ( :date [ samm:property ext-built:sites; samm:optional true ] ) .

:date a samm:Property ;
   samm:preferredName "production date"@en ;
   samm:description "Timestamp of the manufacturing date as the final step in production process(e.g. final quality check, ready-for-shipment event)"@en ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2022-02-04T14:48:54"^^xsd:dateTime .

:value a samm:Property ;
   samm:preferredName "identifier value"@en ;
   samm:description "The value of an identifier."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "BID12345678" .

:LocalIdentifierCharacteristic a samm-c:Set ;
   samm:preferredName "local identifier characteristic"@en ;
   samm:description "A part may have multiple attributes, which uniquely identify that part in a specific dataspace(e.g. the manufacturer`s dataspace)"@en ;
   samm:dataType :KeyValueList .

:PartClassificationCharacteristic a samm-c:SortedSet ;
   samm:preferredName "part classification characteristic"@en ;
   samm:description "Classification characteristic enabling a set of further properties."@en ;
   samm:dataType :ClassificationEntity .

:AllowedKeys a samm-c:Enumeration ;
   samm:preferredName "key characteristic"@en ;
   samm:description "The key characteristic of a local identifier. A specific subset of keys is predefined. Custom keys are not allowed. Predefined keys:\n- \"manufacturerId\" - The Business Partner Number(BPN)of the manufacturer. Value: BPN-Nummer\n- \"batchId\" - The identifier of the batch, to which the serialzed part belongs"@en ;
   samm:dataType xsd:string ;
   samm-c:values ( "manufacturerId" "batchId" "customKey" "jisNumber" "jisCallDate" "parentOrderNumber" "partInstanceId" "van" ) .

:Uuidv4RegularExpression a samm-c:RegularExpressionConstraint ;
   samm:preferredName "UUID v4 regular expression constraint"@en ;
   samm:description "The provided regular expression ensures that the UUID is composed of five groups of characters separated by hyphens, in the form 8-4-4-4-12 for a total of 36 characters (32 hexadecimal characters and 4 hyphens), optionally prefixed by \"urn:uuid:\" to make it an IRI."@en ;
   samm:see <https://datatracker.ietf.org/doc/html/rfc4122> ;
   samm:value "(^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)|(^urn:uuid:[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)" .

:partClassification a samm:Property ;
   samm:preferredName "part classification"@en ;
   samm:description "Property describing the classification of a part."@en ;
   samm:characteristic :PartClassificationCharacteristic .

:createdOn a samm:Property ;
   samm:preferredName "created on"@en ;
   samm:description "Timestamp when the relation between the parent part and the child part was created"@en ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2022-02-03T14:48:54.709Z"^^xsd:dateTime .

:lastModifiedOn a samm:Property ;
   samm:preferredName "last modification date"@en ;
   samm:description "Timestamp when the assembly or usage relationship between parent part and child part was last modified."@en ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2022-02-03T14:48:54.709Z"^^xsd:dateTime .

:businessPartner a samm:Property ;
   samm:preferredName "business partner"@en ;
   samm:description "The supplier of the given child item."@en ;
   samm:characteristic ext-number:BpnlTrait ;
   samm:exampleValue "BPNL50096894aNXY" .

:UuidV4Trait a samm-c:Trait ;
   samm:preferredName "UUIDs v4 trait"@en ;
   samm:description "Trait to ensure UUID v4 data format."@en ;
   samm-c:baseCharacteristic :Uuidv4Characteristic ;
   samm-c:constraint :Uuidv4RegularExpression .

:Uuidv4Characteristic a samm:Characteristic ;
   samm:preferredName "UUID v4 characteristic"@en ;
   samm:description "A version 4 UUID is a universally unique identifier that is generated using random 32 hexadecimal characters."@en ;
   samm:see <https://datatracker.ietf.org/doc/html/rfc4122> ;
   samm:dataType xsd:string .

:manufacturerPartId a samm:Property ;
   samm:preferredName "manufacturer part identifier"@en ;
   samm:description "Part ID as assigned by the manufacturer of the part. The Part ID identifies the part (as designed) in the manufacturer`s dataspace. The Part ID does not reference a specific instance of a part and thus should not be confused with the serial number or batch number."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "123-0.740-3434-A" .

:localIdentifiers a samm:Property ;
   samm:preferredName "local identifiers"@en ;
   samm:description "A local identifier enables identification of a part in a specific dataspace, but is not unique in the Catena-X dataspace. Multiple local identifiers may exist."@en ;
   samm:characteristic :LocalIdentifierCharacteristic .

:nameAtCustomer a samm:Property ;
   samm:preferredName "name at customer"@en ;
   samm:description "Name of the part as assigned by the customer"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "side element A" .

:classificationId a samm:Property ;
   samm:preferredName "classification identifiert"@en ;
   samm:description "The classification ID of the part type according to the corresponding standard definition mentioned in the key value pair."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "1004712" .

:ListOfCustomers a samm-c:List ;
   samm:preferredName "list of customers characteristic"@en ;
   samm:description "A list of customers and their related parent items."@en ;
   samm-c:elementCharacteristic ext-number:BpnlTrait .

:ValidityPeriodCharacteristic a samm:Characteristic ;
   samm:preferredName "validity period characteristic"@en ;
   samm:description "Characteristic  for a validity period defined by an (optional)start and an (optional)end timestamp."@en ;
   samm:dataType :ValidityPeriodEntity .

:key a samm:Property ;
   samm:preferredName "identifier key"@en ;
   samm:description "The key of a local identifier."@en ;
   samm:characteristic :AllowedKeys ;
   samm:exampleValue "batchId" .

:globalAssetId a samm:Property ;
   samm:preferredName "data space identifier"@en ;
   samm:description "The fully anonymous ID in the dataspace of the part."@en ;
   samm:characteristic :UuidV4Trait .

:customerPartId a samm:Property ;
   samm:preferredName "customer part identifier"@en ;
   samm:description "Part ID as assigned by the customer of the part. The customer Part ID identifies the part (as designed)in the customer`s dataspace. The Part ID does not reference a specific instance of a part and thus should not be confused with the serial number or any other instance IDs. \nIf no specific part ID exists a part family ID may be substituted for it."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "PRT-12345" .

:customers a samm:Property ;
   samm:preferredName "customers"@en ;
   samm:description "A list of all customers of this item. If the parent items in which this item is assembled into are known, they should be listed as well.\n\nFor serialized items the list should contain only one customer with one parent item.\nAs different subsets of a batch might be sold to different customers this is a list."@en ;
   samm:characteristic :ListOfCustomers ;
   samm:exampleValue "BPNL50096894aNXY" .

:ValidityPeriodEntity a samm:Entity ;
   samm:preferredName "validity period entity"@en ;
   samm:description "If a validity period only has a start that means that the period is valid from the start date without a (yet)defined enddate and vice versa."@en ;
   samm:properties ( [ samm:property :validTo; samm:optional true ] [ samm:property :validFrom; samm:optional true ] ) .

:validityPeriod a samm:Property ;
   samm:preferredName "validity period"@en ;
   samm:description "The period of time during which the parent-child relation is valid. This relates to whether a child part can be built into or used in the production of the parent part at a given time.\nIf no validity period is given the relation is considered valid at any point in time."@en ;
   samm:characteristic :ValidityPeriodCharacteristic .

:ClassificationEntity a samm:Entity ;
   samm:preferredName "classification entity"@en ;
   samm:description "Encapsulates data related to the classification"@en ;
   samm:properties ( :classificationStandard :classificationId :classificationDescription ) .

:validFrom a samm:Property ;
   samm:preferredName "valid from"@en ;
   samm:description "Start date of validity period."@en ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2023-03-21T08:17:29.187+01:00"^^xsd:dateTime .

:KeyValueList a samm:Entity ;
   samm:preferredName "key value list"@en ;
   samm:description "A list of key value pairs for local identifiers, which are composed of a key and a corresponding value."@en ;
   samm:properties ( :key :value ) .

:classificationStandard a samm:Property ;
   samm:preferredName "classification standard"@en ;
   samm:description "Identified classification standards"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "GIN 20510-21513" .

:nameAtManufacturer a samm:Property ;
   samm:preferredName "name at manufacturer"@en ;
   samm:description "Name of the part as assigned by the manufacturer"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "Mirror left" .

:classificationDescription a samm:Property ;
   samm:preferredName "classification description"@en ;
   samm:description "Optional property describing the classification standard."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "Generic standard for classification of parts in the automotive industry." .

:validTo a samm:Property ;
   samm:preferredName "valid to"@en ;
   samm:description "End date of validity period."@en ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2024-07-01T16:10:00.000+01:00"^^xsd:dateTime .

