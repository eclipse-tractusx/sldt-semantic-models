{
  "$schema" : "http://json-schema.org/draft-04/schema",
  "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#ProductStock",
  "description" : "This aspect represents the latest quantities of a supplier's products that are on stock. The stock represent the build-to-order (BTO) stocks already available for the customer.\n",
  "type" : "object",
  "components" : {
    "schemas" : {
      "OrderIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#OrderIdCharacteristic",
        "description" : "This is a proprietary order ID, generated by either the supplier side or customer side."
      },
      "OrderPositionIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#OrderPositionIdCharacteristic",
        "description" : "The position ID is unique for an order and used within business context to refer to a position."
      },
      "OrderPositionReferenceCharacteristic" : {
        "description" : "The order position reference includes reference numbers for the order and the ID. As these information are meant for the customer, the customer reference numbers are mandatory.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#OrderPositionReferenceCharacteristic",
        "type" : "object",
        "properties" : {
          "supplierOrderId" : {
            "description" : "This is the order number on the supplier side that is given by e.g., the supplier's enterprise resource planning system.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#supplierOrderId",
            "$ref" : "#/components/schemas/OrderIdCharacteristic"
          },
          "customerOrderId" : {
            "description" : "This is the order number on the customer side that can be given by e.g., the customer's enterprise resource planning system.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#customerOrderId",
            "$ref" : "#/components/schemas/OrderIdCharacteristic"
          },
          "customerOrderPositionId" : {
            "description" : "This is an identifier for the position of an order defined by the customer. It's not a technical identifier, such as an UUID. This identifier is used within the business context when talking about the position.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#customerOrderPositionId",
            "$ref" : "#/components/schemas/OrderPositionIdCharacteristic"
          }
        },
        "required" : [ "customerOrderId", "customerOrderPositionId" ]
      },
      "DateTimeStamp" : {
        "type" : "string",
        "format" : "date",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#DateTimeStamp",
        "description" : "The Date with the the timezone of the involved site."
      },
      "NumberofObjects" : {
        "type" : "number",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#NumberofObjects",
        "description" : "Quantifiable number of objects in reference to the measurementUnit"
      },
      "UnitReference" : {
        "type" : "string",
        "pattern" : "[a-zA-Z]*:[a-zA-Z]+",
        "x-samm-aspect-model-urn" : "urn:samm:org.eclipse.esmf.samm:characteristic:2.2.0#UnitReference",
        "description" : "Describes a Property containing a reference to one of the units in the Unit Catalog."
      },
      "QuantityCharacteristic" : {
        "description" : "Describes the quantity in which the child part is assembled in the given parent object by providing a quantity value and the measurement unit in which the quantity is measured.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#QuantityCharacteristic",
        "type" : "object",
        "properties" : {
          "quantityNumber" : {
            "description" : "The number of objects related to the measurement unit",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#quantityNumber",
            "$ref" : "#/components/schemas/NumberofObjects"
          },
          "measurementUnit" : {
            "description" : "Unit of measurement for the quantity of objects.\nIf possible, use units from the aspect meta model unit catalog, which is based on the UNECE Recommendation No. 20 \"Codes for Units of Measure used in International Trade\".",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#measurementUnit",
            "$ref" : "#/components/schemas/UnitReference"
          }
        },
        "required" : [ "quantityNumber", "measurementUnit" ]
      },
      "LocationIdTypeEnum" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#LocationIdTypeEnum",
        "description" : "Enumeration specifying types of keys for locations within Catena-X.",
        "enum" : [ "BPNS", "BPNA" ]
      },
      "LocationIdCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#LocationIdCharacteristic",
        "description" : "The actual key based on the type."
      },
      "SupplierStockLocationIDCharacteristic" : {
        "description" : "This is the location where the stock is located.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#SupplierStockLocationIDCharacteristic",
        "type" : "object",
        "properties" : {
          "locationIdType" : {
            "description" : "Type of the location's ID.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#locationIdType",
            "$ref" : "#/components/schemas/LocationIdTypeEnum"
          },
          "locationId" : {
            "description" : "The actual ID reflecting the type (locationIdType) of the location.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#locationId",
            "$ref" : "#/components/schemas/LocationIdCharacteristic"
          }
        },
        "required" : [ "locationIdType", "locationId" ]
      },
      "AllocatedStock" : {
        "description" : "This is the quantity of already produced goods at a given location that has not yet been shipped. The allocated stock is the stock available for the customer and may refer to a given position (see OrderPositionReference). Quantities of Materials belonging to this stock are not available for other positions or customers. This stock consists only of the good parts.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#AllocatedStock",
        "type" : "object",
        "properties" : {
          "quantityOnAllocatedStock" : {
            "description" : "This is the quantity of the material within the position that is already ready to be delivered.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#quantityOnAllocatedStock",
            "$ref" : "#/components/schemas/QuantityCharacteristic"
          },
          "supplierStockLocationId" : {
            "description" : "One stock has always one location. The location is identified using BPNs. The location can be identified differently depending on the partner.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#supplierStockLocationId",
            "$ref" : "#/components/schemas/SupplierStockLocationIDCharacteristic"
          }
        },
        "required" : [ "quantityOnAllocatedStock", "supplierStockLocationId" ]
      },
      "AllocatedStockCollection" : {
        "description" : "Collection of AllocatedStocks that may relate to different supplierStockLocations.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#AllocatedStockCollection",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/AllocatedStock"
        }
      },
      "Position" : {
        "description" : "The Position can be located at several stocks. A position may be anonymous or may reference an position within an order.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#Position",
        "type" : "object",
        "properties" : {
          "orderPositionReference" : {
            "description" : "The order position reference contains information to identify a position within an order.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#orderPositionReference",
            "$ref" : "#/components/schemas/OrderPositionReferenceCharacteristic"
          },
          "lastUpdatedOnDateTime" : {
            "description" : "Date and time at which the position has been updated by the supplier's systems. Date and time are set according to a timezone.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#lastUpdatedOnDateTime",
            "$ref" : "#/components/schemas/DateTimeStamp"
          },
          "allocatedStocks" : {
            "description" : "Stocks already allocated to the customer. There is one AllocatedStock per supplierStockLocation.",
            "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#allocatedStocks",
            "$ref" : "#/components/schemas/AllocatedStockCollection"
          }
        },
        "required" : [ "lastUpdatedOnDateTime", "allocatedStocks" ]
      },
      "PositionsCollection" : {
        "description" : "If any stock is available, then there is at least one position. If the supplier does differentiate the stock according to the order positions (an OrderPositionReference is set), then multiple positions can be given. There could also be only one position without an OrderPositionReference indicating an anonymous stock which is allocated to the customer.",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#PositionsCollection",
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/Position"
        }
      },
      "MaterialNumber" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#MaterialNumber",
        "description" : "The material number is a multi-character string, usually assigned by an ERP system."
      },
      "CatenaXIdTraitCharacteristic" : {
        "type" : "string",
        "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#CatenaXIdTraitCharacteristic",
        "description" : "The provided regular expression ensures that the UUID is composed of five groups of characters separated by hyphens, in the form 8-4-4-4-12 for a total of 36 characters (32 hexadecimal characters and 4 hyphens), optionally prefixed by \"urn:uuid:\" to make it an IRI.",
        "pattern" : "(^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)|(^urn:uuid:[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$)"
      }
    }
  },
  "properties" : {
    "positions" : {
      "description" : "The positions refer to positions within an order that refer to the given product (see materialNumberSupplier, materialNumberCustomer and materialNumberDataSpace) for which the stocks are transferred. The positions are differentiated by the orderPositionReference.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#positions",
      "$ref" : "#/components/schemas/PositionsCollection"
    },
    "materialNumberCustomer" : {
      "description" : "Material identifier as assigned by customer. This material number identifies the material (as planned) in customer's database. For standard parts (e.g. screws) for which a customer does not have an own number, the materialNumberSupplier should be set in this field, too.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#materialNumberCustomer",
      "$ref" : "#/components/schemas/MaterialNumber"
    },
    "materialNumberCatenaX" : {
      "description" : "Material identifier used uniquely within Catena-X to identify the Material (e.g. PartAsPlanned).",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#materialNumberCatenaX",
      "$ref" : "#/components/schemas/CatenaXIdTraitCharacteristic"
    },
    "materialNumberSupplier" : {
      "description" : "Material identifier as assigned by supplier. This material number identifies the material (as planned) in supplier's database.",
      "x-samm-aspect-model-urn" : "urn:samm:io.catenax.product_stock:1.0.0#materialNumberSupplier",
      "$ref" : "#/components/schemas/MaterialNumber"
    }
  },
  "required" : [ "positions", "materialNumberCustomer" ]
}